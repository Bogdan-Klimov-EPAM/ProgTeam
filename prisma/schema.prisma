// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

model Project {
  id        Int      @id @default(autoincrement())
  name      String
  blocks    Block[]
}

model Block {
  id             Int         @id @default(autoincrement())
  type           String
  projectId      Int
  project        Project     @relation(fields: [projectId], references: [id])
  contentIdText  Int?
  contentIdImage Int?
  textBlock      BlockText?  @relation("BlockText")
  imageBlock     BlockImage? @relation("BlockImage")
}

model BlockText {
  id          Int    @id @default(autoincrement())
  description String
  subtitle    String
  title       String
  block       Block  @relation("BlockText", fields: [blockId], references: [id])
  blockId     Int    @unique
}

model BlockImage {
  id       Int    @id @default(autoincrement())
  imageUrl String
  block    Block  @relation("BlockImage", fields: [blockId], references: [id])
  blockId  Int    @unique
}
